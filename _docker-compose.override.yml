version: '3'
services:
  container:
    ports:
      - '6666:8000' # Remote debugging port
    environment:
      # CONTAINER_DEPLOYMENT_TESTS: 'true'
      CONTAINER_JAVA_OPTS: |-
        -Xdebug
        -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n
    # volumes:
    #   - <path on host system>:/tmp/opentosca
  container-repository:
    # volumes:
    #   - <path on host system>:/var/opentosca/repository
  engine-plan:
    ports:
      - '5555:8000' # Remote debugging port
    environment:
      JAVA_OPTS: -Xdebug -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n
  engine-ia-jdk8:
    # volumes:
    #   - <path on host system>:/usr/local/tomcat/webapps
    # ports:
    #   - '1883:1883' # MQTT
  winery:
    environment:
      WINERY_REPOSITORY_URL: https://github.com/OpenTOSCA/tosca-definitions-public
  dind:
    volumes:
      # Enable University of Stuttgart internal DNS settings via corresponding config file
      - ./resolv.conf:/etc/resolv.conf
    ports:
      - '3306:3306'
  tops:
    image: opentosca/tops:latest
    ports:
      - 9090:9090